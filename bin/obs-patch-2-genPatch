#!/bin/bash

theFoldersRaw=`find . -maxdepth 1  -mindepth 1 -type d`
set -f
theFolders=(${theFoldersRaw//\n/ })

if [[ -d modified ]]; then
	original="original"
	modified="modified"
else
	original=${theFolders[0]}
	modified=${theFolders[1]}
fi

echo "Generating patch for $original -> $modified"

# Standardize directory layout
# for cleaner patch files
if [[ ! -d modified ]]; then
	mv $original original
	mv $modified modified
fi

/usr/bin/diff -ruN modified original > file.patch
