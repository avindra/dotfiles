#!/usr/bin/env bash
export EDITOR='vim'

# Detect and greet remote users
if [[ -n $SSH_CONNECTION ]]; then
	>&2 echo "You are now on `hostname`"
	if [ -t 1 ]; then exec fish; fi
fi

. ~/.aliases

# Java

export JAVA_HOME=/usr/java/latest

###
# $PATH setup
#
# IMPORTANT: if you are making
# changes, make sure to call
# the `_setup_fish` function
# from Bash. This will port the
# settings over to the Fish
# global config.
###

BIN_PATH0="./bin"
NPM_PATH1="./node_modules/.bin"
RUST_PATH2="$HOME/.cargo/bin"
PIP_PATH3="$HOME/.local/bin"
RUBY_PATH4="$HOME/.gem/ruby/2.4.0/bin"
GO_PATH5="$HOME/go/bin"
DENO_PATH6="$HOME/.deno/bin"

USER_PATHS="$BIN_PATH_0:$NPM_PATH1:$RUST_PATH2:$PIP_PATH3:$RUBY_PATH4:$GO_PATH5:$DENO_PATH6"

## inject additional dirs
export PATH="$USER_PATHS:$PATH"

function _setup_fish() {
	fish -c "set -U fish_user_paths; set -U fish_user_paths $USER_PATHS \$fish_user_paths"
}

export -f _setup_fish

