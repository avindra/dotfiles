#!/usr/bin/env bash

### .alaises
###    A collection of favorite aliases, as well as useful functions.
###

alias reload=". ~/.bash_profile"

# Status hides untracked
# items
alias statusfull="git status"
alias status="git status -uno"


###
## Super diff
## 1. `diff` by itself shows a diff of cached
## 2. `diff` with two file-like arguments uses git's differ to compare them
## 3. everything else passes through to `git diff`
###
function diff() {
	if [[ "$#" -eq 0 ]]; then
		git diff --cached
		return $?
	fi
	if [[ "$#" -eq 2 ]]; then
		if [[ -f "$1" && -f "$2" ]]; then
			git diff --no-index $1 $2
			return $?
		fi
	fi

	git diff "$@"

}

export -f diff

alias add="git add -u"
alias addall="add ."
alias unstage="git reset HEAD"
alias pull="git pull --rebase"
alias push="git push"
alias dammit="git commit --amend --no-edit"
alias fuckitall="git checkout -- ."
alias commit="git commit -v"

## Favorites

function weather() {
	city=$1
	curl -H 'User-Agent: curl' http://wttr.in/${city}
}

export -f weather

alias v="vi"


# Go back to root shell
alias dropback="fg"
